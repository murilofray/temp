<p-toast></p-toast>
<div class="pdde-cadastro-container">
  <h2>Cadastro PDDE</h2>

  <form (ngSubmit)="onSubmit()" #pddeForm="ngForm">
    <!-- Campo Escola ID -->
    <div class="form-group">
      <label for="escolaId">Escola ID</label>
      <input
        type="number"
        id="escolaId"
        name="escolaId"
        class="form-control"
        [(ngModel)]="pddeData.escolaId"
        required
      />
    </div>

    <!-- Campo Conta Bancária ID (Select) -->
    <div class="form-group">
      <label for="contaBancariaId">Conta Bancária</label>
      <select
        id="contaBancariaId"
        name="contaBancariaId"
        class="form-control"
        [(ngModel)]="pddeData.contaBancariaId"
        required
      >
        <option value="" disabled selected>Selecione uma conta bancária</option>
        <option *ngFor="let conta of contasBancarias" [value]="conta.id">
          Agência: {{ conta.agencia }} - Conta: {{ conta.numeroConta }}
        </option>
      </select>
    </div>

    <!-- Campo Tipo -->
    <div class="form-group">
      <label for="tipo">Tipo</label>
      <input type="text" id="tipo" name="tipo" class="form-control" [(ngModel)]="pddeData.tipo" required />
    </div>

    <!-- Campo Valor -->
    <div class="form-group">
      <label for="valor">Valor</label>
      <input
        type="number"
        step="0.01"
        id="valor"
        name="valor"
        class="form-control"
        [(ngModel)]="saldoData.valor"
        required
      />
    </div>

    <!-- Campo Custeio -->
    <div class="form-group">
      <label for="custeio">Custeio</label>
      <input
        type="number"
        step="0.01"
        id="custeio"
        name="custeio"
        class="form-control"
        [(ngModel)]="saldoData.custeio"
        required
      />
    </div>

    <!-- Campo Capital -->
    <div class="form-group">
      <label for="capital">Capital</label>
      <input
        type="number"
        step="0.01"
        id="capital"
        name="capital"
        class="form-control"
        [(ngModel)]="saldoData.capital"
        required
      />
    </div>

    <!-- Botão de Submit -->
    <button type="submit" class="p-button p-button-primary" [disabled]="!pddeForm.valid">Cadastrar</button>
  </form>

  <!-- Botão Cancelar -->
  <button
    pButton
    type="button"
    label="Cancelar"
    class="p-button-danger custom-cancel-button"
    (click)="navigateToHome()"
    style="margin-top: 10px; width: 100%"
  ></button>

  <p-dialog
    header="Cadastro Realizado"
    [(visible)]="displayModal"
    [modal]="true"
    [closable]="false"
    [dismissableMask]="true"
  >
    <p>Gostaria de continuar o processo e cadastrar o Programa?</p>
    <div class="button-group">
      <button pButton type="button" label="Sim" class="p-button-success" (click)="navigateToPrograma()"></button>
      <button
        pButton
        type="button"
        label="Não"
        class="p-button-secondary"
        (click)="navigateToHome()"
        style="margin-left: 10px"
      ></button>
    </div>
  </p-dialog>
</div>
